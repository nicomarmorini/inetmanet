%description:
Test Fast Retransmission: 3rd duplicate ACK should trigger resend before
retransmission timer expires

%inifile: {}.ini
[General]
preload-ned-files = *.ned ../../*.ned @../../../../nedfiles.lst

[Cmdenv]
event-banners=false

[Parameters]
*.testing=true

*.cli.tSend=1
*.cli.sendBytes=32768 # 32 1024-byte segments

*.tcptester.script="a12 delete"  # drop a segment to force fast rexmit

include ../../defaults.ini

%contains: stdout
[1.001 A003] A.1000 > B.2000: . 1:1025(1024) ack 501 win 16384
[1.203 B002] B.2000 > A.1000: . ack 1025 win 16384
[1.205 A004] A.1000 > B.2000: . 1025:2049(1024) ack 501 win 16384
[1.205 A005] A.1000 > B.2000: . 2049:3073(1024) ack 501 win 16384
[1.407 B003] B.2000 > A.1000: . ack 3073 win 16384
[1.409 A006] A.1000 > B.2000: . 3073:4097(1024) ack 501 win 16384
[1.409 A007] A.1000 > B.2000: . 4097:5121(1024) ack 501 win 16384
[1.409 A008] A.1000 > B.2000: . 5121:6145(1024) ack 501 win 16384
[1.409 A009] A.1000 > B.2000: . 6145:7169(1024) ack 501 win 16384
[1.611 B004] B.2000 > A.1000: . ack 7169 win 16384
[1.613 A010] A.1000 > B.2000: . 7169:8193(1024) ack 501 win 16384
[1.613 A011] A.1000 > B.2000: . 8193:9217(1024) ack 501 win 16384
[1.613 A012] A.1000 > B.2000: . 9217:10241(1024) ack 501 win 16384 # deleting
[1.613 A013] A.1000 > B.2000: . 10241:11265(1024) ack 501 win 16384
[1.613 A014] A.1000 > B.2000: . 11265:12289(1024) ack 501 win 16384
[1.613 A015] A.1000 > B.2000: . 12289:13313(1024) ack 501 win 16384
[1.613 A016] A.1000 > B.2000: . 13313:14337(1024) ack 501 win 16384
[1.613 A017] A.1000 > B.2000: . 14337:15361(1024) ack 501 win 16384
[1.615 B005] B.2000 > A.1000: . ack 9217 win 16384
[1.615 B006] B.2000 > A.1000: . ack 9217 win 16384
[1.615 B007] B.2000 > A.1000: . ack 9217 win 16384
[1.615 B008] B.2000 > A.1000: . ack 9217 win 16384
[1.615 B009] B.2000 > A.1000: . ack 9217 win 16384
[1.617 A018] A.1000 > B.2000: . 15361:16385(1024) ack 501 win 16384
[1.617 A019] A.1000 > B.2000: . 16385:17409(1024) ack 501 win 16384
[1.617 A020] A.1000 > B.2000: . 17409:18433(1024) ack 501 win 16384
[1.617 A021] A.1000 > B.2000: . 18433:19457(1024) ack 501 win 16384
[1.617 A022] A.1000 > B.2000: . 19457:20481(1024) ack 501 win 16384
[1.617 A023] A.1000 > B.2000: . 20481:21505(1024) ack 501 win 16384
[1.617 A024] A.1000 > B.2000: . 21505:22529(1024) ack 501 win 16384
[1.617 A025] A.1000 > B.2000: . 22529:23553(1024) ack 501 win 16384
[1.617 A026] A.1000 > B.2000: . 23553:24577(1024) ack 501 win 16384
[1.617 A027] A.1000 > B.2000: . 24577:25601(1024) ack 501 win 16384
[1.617 A028] A.1000 > B.2000: . 9217:10241(1024) ack 501 win 16384
[1.619 B010] B.2000 > A.1000: . ack 9217 win 16384
[1.619 B011] B.2000 > A.1000: . ack 9217 win 16384
[1.619 B012] B.2000 > A.1000: . ack 9217 win 16384
[1.619 B013] B.2000 > A.1000: . ack 9217 win 16384
[1.619 B014] B.2000 > A.1000: . ack 9217 win 16384
[1.619 B015] B.2000 > A.1000: . ack 9217 win 16384
[1.619 B016] B.2000 > A.1000: . ack 9217 win 16384
[1.619 B017] B.2000 > A.1000: . ack 9217 win 16384
[1.619 B018] B.2000 > A.1000: . ack 9217 win 16384
[1.619 B019] B.2000 > A.1000: . ack 9217 win 16384
[1.819 B020] B.2000 > A.1000: . ack 25601 win 16384
[1.821 A029] A.1000 > B.2000: . 25601:26625(1024) ack 501 win 16384
[1.821 A030] A.1000 > B.2000: . 26625:27649(1024) ack 501 win 16384
[1.821 A031] A.1000 > B.2000: . 27649:28673(1024) ack 501 win 16384
[1.821 A032] A.1000 > B.2000: . 28673:29697(1024) ack 501 win 16384
[1.821 A033] A.1000 > B.2000: . 29697:30721(1024) ack 501 win 16384
[1.821 A034] A.1000 > B.2000: . 30721:31745(1024) ack 501 win 16384
[1.821 A035] A.1000 > B.2000: . 31745:32769(1024) ack 501 win 16384
[2.023 B021] B.2000 > A.1000: . ack 32769 win 16384

%contains: stdout
[2.024] tcpdump finished, A:35 B:21 segments

